# 数组
<font color="orange" size="4">

- 与 vector 不同的地方是，数组的大小`确实不变`，不能随意向数组中添加元素。因为数组大小固定，因此对某些特殊的应用来说，程序的的性能更好。
- 如果不清楚元素的确切个数，请使用 `vector`

</font>


## 1. 定义和初始化内置数组
<font color="red" size="3">

Note
----
1. 数组的维度必须是一个常量表达式。
2. 定义数组的时候必须指定数组的类型，不许用 auto 关键字由初始值的列表推断类型

</font>

```c++
unsigned cnt = 42;  // 不是常量表达式
constexpr unsigned sz = 42; // 常量表达式
int arr[10];    // 含有 10 个整数的数组
int *parr[sz];  // 含有 42 个整型指针的数组
string bad[cnt];    // 错误：cnt 不是常量表达式
```

## 1.1. 显式初始化数组
可以对数组的元素进行 `列表初始化`，此时允许忽略数组的维度。
```c++
const unsigned sz = 3;     // 常量表达式
int ial[sz] = {0, 1, 2};    
int a2[] = {0, 1, 2};   // 维度是 3 的数组
int a3[5] = {0, 1, 2};  // 等价于 a3[5] = {0, 1, 2, 0, 0};
string a4[3] = {"hi", "bye"};   // 等价于 a4[] = {"hi", "bye", ""};
int a5[2] = {0, 1, 2};  // 错误：列表长度应小于等于指定长度
```


## 1.2. 字符数组的特殊性
<font color="red" size="3">

Note
----
- 字符数组有一种特殊的初始化方式 -- 使用字符串字面值进行初始化
- 一定要注意字符数组结尾，有一个空字符 ` '\0' `
- 字符串字面值的结尾处还有一个空字符

</font>

```c++
char a1[] = {'C', '+', '+'};    // 列表初始化，没有空字符
char a2[] = {'C', '+', '+', '\0'};  // 列表初始化，含有显示的空字符
char a3[] = "C++";  // 自动添加表示字符串结束的空字符
const char a4[6] = "Daniel";   // 错误：没地方存储空字符
```

## 1.3. 不许拷贝和赋值
<font color="red" size="4">

Note
----
1. 不能将数组的内容`拷贝`给其他数组，作为初始值
2. 不能用数组为其他数组`赋值`
3. 一些编译器支持数组的赋值，这就是所谓的`编译器扩展 (compiler extension)`

</font>

## 1.4. 理解复杂的数组声明
几个复杂的数组声明情况：
1. 定义一个存放指针的数组
2. 定义数组的指针
3. 定义数组的引用

```c++
int *ptrs[10];  // ptrs 是含有 10 个整型指针的数组
int &reds[10] = /* ? */;    // 错误：不存在引用的数组（存在指针的数组）
int (*Parray)[10] = &arr;   // Parray 指向一个含有 10 个整数的数组
int (&arrRef)[10] = arr;    // arrRef 引用一个含有 10 个整数的数组
int *(&arry)[10] = ptrs;    // arry 是数组的引用，该数组含有 10 个指针
```

<font color="red" size="3">

Note
----
1. 要想理解数组声明的含义，最好的方法是从数组的名字开始由内到外的顺序阅读

</font>

## 1.5. 默认初始化
```c++
#include <iostream>
#include <string>


std::string sa[10]; // 全是空字符
int ia[10]; // 全是 0

int main() {
    std::string sa2[10];    // 空字符
    int ia2[10];    // 一大堆未定义的数，且互不相等

    for (auto &c: ia2) 
        std::cout << c << std::endl;
    return 0;
}
```

# 2. 访问数组元素
